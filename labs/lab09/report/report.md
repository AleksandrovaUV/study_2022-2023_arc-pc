---
## Front matter
title: "Внешние курсы. Раздел 2"
subtitle: "Операционные системы"
author: "Александрова Ульяна"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Ознакомиться с с операционной системой Linux и основами её использования.

# Теоретическое введение

В рамках представленного курса слушатели познакомятся с операционной системой Linux и её базовыми возможностями. Наличие установленного Linux на компьютере не требуется, так как мы начнём знакомство с этой операционной системой с самого начала, а именно с ее установки.

Далее в курсе будут рассмотрены основные возможности графического интерфейса Linux, которые очень напоминают знакомые большинству слушателей Windows или Mac OS X. После этого мы перейдем к изучению работы через командную строку, которая поначалу может показать не очень удобной, но постепенно станут понятны ее преимущества над графическим подходом.

Следующий блок курса посвящен работе на удаленном сервере. Мы научимся заходить на него, запускать различные программы удаленно, а также копировать результаты их выполнения на свой локальный компьютер для дальнейшего анализа.

Заключительная часть курса рассматривает несколько продвинутых тем, включающих в себя основы написания скриптов на языке bash, использование многофункционального текстового редактора vim и другие.

В течение курса всем слушателям будет предложен ряд тестов и практических заданий на понимание и использование системы Linux. Кроме того, будет и несколько заданий по написанию небольших программ на языке bash.

# Выполнение заданий

### 2.1 Знакомство с сервером 

Удаленный сервер можно использовать для  
- Хранение общедоступных данных (например, доступных для всех пользователей интернета)  
- Выполнение сложных (затратных по памяти и времени) вычислений  
- Хранение больших объемов данных  
- Хранение конфиденциальных данных (т.е. доступ к ним должны иметь только ограниченный круг лиц)  
(рис. @fig:001).

![Задание 1](image/2.1.1.png){#fig:001 width=70%}

*id_rsa.pub* можно безопасно пересылать по интернету (рис. @fig:002).

![Задание 2](image/2.1.2.png){#fig:002 width=70%}

Я настроила удаленный сервер: зашла с этого терминала по SSH на удаленный сервер *server1.stepik-local*. Прочитала содержимое файла /srv/files_on_server/secret* на удалённом сервере и записала его в локальный файл */home/box/secret* при помощи команд  
> ssh box@server1.stepik-local  
> cat /srv/files_on_server/secret  
> exit  
> echo 'I hacked ssh!' > /home/box/secret  
(рис. @fig:003), (рис. @fig:004).

![Задание 3](image/2.1.3.png){#fig:003 width=70%}

![Задание 3](image/2.1.3.1.png){#fig:004 width=70%}

### 2.2 Обмен файлами

Команда *scp -r stepic username@server:~/* скопирует на сервер (в домашнюю директорию) папку stepic вместе с содержимым ее самой и всех ее подпапок (рис. @fig:005).

![Задание 1](image/2.2.1.png){#fig:005 width=70%}

Если терминал сообщает, что не может найти и скачать установочный пакет через *sudo apt-get install program*, то стоит проверить интернет соединение, использовать программу *sudo apt-get update* (рис. @fig:006).

![Задание 2](image/2.2.2.png){#fig:006 width=70%}

Filezilla можно использовать для просмотра содержимого директорий на сервере, копирования файлов со своего компьютера на сервер, копирования файлов с сервера на свой компьютер, просмотра содержимого директорий на своем компьютере (рис. @fig:007).

![Задание 3](image/2.2.3.png){#fig:007 width=70%}

### 2.3 Запуск приложений

Если требуется запустить на сервере программу, для работы которой нужен не терминал, а экран, то можно проверить, есть ли другая версия этой программы (специально для терминала) или настроить сервер, чтобы он поддерживал вывод информации на экран компьютера (рис. @fig:008).

![Задание 1](image/2.3.1.png){#fig:008 width=70%}

Обычно можно вызвать справочную информацию о программе program при помощи man program, program --help (в некоторых программах бывает еще -help или -h), help program (рис. @fig:009).

![Задание 2](image/2.3.2.png){#fig:009 width=70%}

Посмотрела справку по программе FastQC, он может принимать форматы *bam, sam, fastq* на вход (рис. @fig:010).

![Задание 3](image/2.3.3.png){#fig:010 width=70%}

Clustal -- это одна из самых широко используемых компьютерных программ для множественного выравнивания нуклеотидных и аминокислотных последовательностей (multiple sequence alignment). У нее есть графическая версия ClustalX и версия для запуска в терминале ClustalW.

Я посмотрела справку по программе. Команда *clustalw test.fasta -align* запускает и выполняет множественное выравнивание (рис. @fig:011).

![Задание 4](image/2.3.4.png){#fig:011 width=70%}

### 2.4 Контроль запускаемых программ

Информация только о program2 и program3 будет показана при выполнении команды jobs (рис. @fig:012).

![Задание 1](image/2.4.1.png){#fig:012 width=70%}

*jobs, top и ps* позволяют отслеживать работу запущенных в терминале программ. В каждой из этих трех утилит для каждой запущенной программы указывается число-идентификатор. Эти идентификаторы одинаковые только у *ps и top* (рис. @fig:013).

![Задание 2](image/2.4.2.png){#fig:013 width=70%}

С помощью команды *kill -9* можно мгновенно завершить остановленный процесс (рис. @fig:014).

![Задание 3](image/2.4.3.png){#fig:014 width=70%}

Если использовать *kill* по отношению к процессу, который был приостановлен при помощи *Ctrl+Z*, то процесс приступит к завершению, как только будет продолжен (рис. @fig:015).

![Задание 4](image/2.4.4.png){#fig:015 width=70%}

### 2.5 Многопоточные приложения

Остановленное (по Ctrl+Z) многопоточное приложение использует 0% CPU (рис. @fig:016).

![Задание 1](image/2.5.1.png){#fig:016 width=70%}

Остановленное (по Ctrl+Z) многопоточное приложение занимает столько памяти , сколько оно потребляло в момент остановки (рис. @fig:017).

![Задание 2](image/2.5.2.png){#fig:017 width=70%}

Нельзя принудительно завершить один из потоков запущенного многопоточного приложения (рис. @fig:018).

![Задание 3](image/2.5.3.png){#fig:018 width=70%}

Я изучила справочную информацию о *bowtie2, bowtie2-build*. Только bowtie2 можно выполнить в несколько потоков (рис. @fig:019).

![Задание 4](image/2.5.4.png){#fig:019 width=70%}

После загрузки я распаковала архив reads.fastq.gz с помощью команды gunzip. Затем запустила подрограмму bowtie2 в несколько потоков, сравнила скорость выполнения в таком режиме с работой в один поток. Записала лог с ошибками (рис. @fig:020).

![Задание 5](image/2.5.5.png){#fig:020 width=70%}

### 2.6 Менеджер терминал tmux

Я открыла две вкладки в терминале. В одной из них запустила процесс и приостановила его. Переключившись во вторую вкладку и набрав fg, терминал сообщит, что нет процесса для запуска в fg (рис. @fig:021).

![Задание 1](image/2.6.1.png){#fig:021 width=70%}

Если я введу в последней вкладке tmux в командную строку команду exit, то tmux завершит работу (рис. @fig:022).

![Задание 2](image/2.6.2.png){#fig:022 width=70%}

Если я закрою терминал, то соединение с сервером прервется, но работа tmux продолжится (рис. @fig:023).

![Задание 3](image/2.6.3.png){#fig:023 width=70%}

Если запустить процесс в фоновом режиме в одной из вкладок tmux, а затем принудительно закрыть эту вкладку (Ctrl+B, X), то вкладка закроется, а вместе с ней пропадет и запущенный в ней процесс (рис. @fig:024).

![Задание 4](image/2.6.4.png){#fig:024 width=70%}

Команда *Ctrl+B и , (запятая)* отвечает за переименование текущей вкладки (рис. @fig:025).

![Задание 6](image/2.6.5.png){#fig:025 width=70%}

Кроме создания нескольких вкладок, tmux умеет еще и разделять (split) одну вкладку на несколько, например, горизонтальной чертой на верхнюю и нижнюю или вертикальной чертой на левую и правую. Разделение может быть полезно, например, чтобы запустить процесс в верхней половине вкладки, а продолжить работу в нижней и одновременно следить за тем, что происходит с процессом. Для "горизонтального" разделения используется (Ctrl+B и "), а для "вертикального" -- (Ctrl+B и %) (рис. @fig:026).

![Задание 2](image/2.6.6.png){#fig:026 width=70%}

# Выводы

Я освоила введение в Linux.

::: {#refs}
:::
